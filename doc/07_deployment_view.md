# 7. Deployment View

## 7.1 Deployment Architecture

```
Developer Machine / CI/CD Server
        ↓
    uv install [--python 3.14]
        ↓
    Source Files (git clone)
    ├─ scraper/
    ├─ analysis/
    ├─ doc/
    ├─ pyproject.toml
    └─ INSTRUCTIONS.md
        ↓
    Runtime Environment
    ├─ Python 3.14+ (from uv)
    ├─ Dependencies (aiohttp, polars, jupyter)
    └─ data/ directory (created on first run)
        ↓
    Execution
    ├─ uv run scraper/scraper_async.py    [scraping]
    └─ jupyter lab analysis/               [analysis]
        ↓
    Artifacts
    ├─ data/jugend_musiziert_data.json
    ├─ data/versions/
    └─ analysis.ipynb (manual save)
```

## 7.2 Installation & First Run

```bash
# 1. Clone repository
git clone <repo-url>
cd jumu

# 2. Install Python 3.14+ (if not available)
uv python install 3.14

# 3. Install dependencies
uv sync

# 4. Run scraper (creates data/ directory if missing)
uv run scraper/scraper_async.py

# 5. Open analysis notebook
jupyter lab analysis/analysis.ipynb
```

## 7.3 Scheduled Scraping

### Cron Job (daily at 2 AM)
```bash
0 2 * * * cd /path/to/jumu && uv run scraper/scraper_async.py >> /var/log/jumu_scrape.log 2>&1
```

### Docker Deployment (Optional)
```dockerfile
FROM python:3.14-slim
WORKDIR /app
COPY . .
RUN pip install uv && uv sync --frozen
CMD ["uv", "run", "scraper/scraper_async.py"]
```

## 7.4 Version Control Considerations

### Committed to Git
- `.`: Source code, documentation, INSTRUCTIONS.md
- `doc/`: Architecture and design documentation
- `pyproject.toml`, `uv.lock`: Dependency specifications
- `scraper/`, `analysis/`: All source code

### NOT Committed (in .gitignore)
- `data/`: Versioned datasets and snapshots
- `__pycache__/`, `*.pyc`: Python build artifacts
- `.venv/`, `.uv/`: Virtual environment
- `*.ipynb` outputs/checkpoints: Notebook transient state

### Recovery Strategy
- Source code and doc/ are authoritative
- Data can be regenerated by running scraper
- Versions preserved via snapshots in data/versions/

## 7.5 Performance Targets for Deployment

| Metric | Target | Rationale |
|--------|--------|-----------|
| Scrape duration | <30s | API is responsive; parallel requests |
| Memory usage | <500MB | No large in-memory buffers |
| CPU usage | <50% | Async I/O, not CPU-bound |
| Version decision | <100ms | Simple file operations |
| Data file size | <500MB | Typically 28 seasons × 1000 entries |

